### Feature-First ï¼‹ Clean Architecture + MVVM

æ©Ÿèƒ½ã”ã¨ã®ç‹¬ç«‹æ€§ã‚’ä¿ã¡ã€ãƒ†ã‚¹ãƒˆã—ã‚„ã™ããƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã®é«˜ã„ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚

---

### **å…¨ä½“æ§‹æˆå›³**

```
lib/
â”œâ”€â”€ core/                             # æŠ€è¡“çš„ã‚¤ãƒ³ãƒ•ãƒ©ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãªã—ï¼‰
â”‚   â”œâ”€â”€ di/                           # ä¾å­˜æ€§æ³¨å…¥ï¼ˆDIï¼‰ã®ä¸­å¤®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ pokemon_di.dart           # Pokemonæ©Ÿèƒ½ã®DI
â”‚   â”‚   â”œâ”€â”€ survey_di.dart            # Surveyæ©Ÿèƒ½ã®DI
â”‚   â”‚   â””â”€â”€ auth_di.dart              # Authæ©Ÿèƒ½ã®DI
â”‚   â”œâ”€â”€ network/                      # Dioã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãªã©ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š
â”‚   â”‚   â””â”€â”€ dio_client.dart
â”‚   â”œâ”€â”€ router/                       # go_routerã®è¨­å®š
â”‚   â”‚   â””â”€â”€ app_router.dart
â”‚   â”œâ”€â”€ theme/                        # ã‚¢ãƒ—ãƒªã®ãƒ†ãƒ¼ãƒè¨­å®š
â”‚   â”‚   â”œâ”€â”€ app_theme.dart            # Light/Darkãƒ†ãƒ¼ãƒå®šç¾©
â”‚   â”‚   â”œâ”€â”€ app_colors.dart           # ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
â”‚   â”‚   â””â”€â”€ app_text_styles.dart      # ãƒ†ã‚­ã‚¹ãƒˆã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â””â”€â”€ utils/                        # æ±ç”¨çš„ãªä¾¿åˆ©ãƒ„ãƒ¼ãƒ«
â”‚       â”œâ”€â”€ string_extensions.dart    # Stringæ‹¡å¼µãƒ¡ã‚½ãƒƒãƒ‰
â”‚       â”œâ”€â”€ context_extensions.dart   # BuildContextæ‹¡å¼µãƒ¡ã‚½ãƒƒãƒ‰
â”‚       â””â”€â”€ formatters.dart           # æ—¥ä»˜ãƒ»æ•°å€¤ãƒ»ãƒã‚±ãƒ¢ãƒ³ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
â”‚
â”œâ”€â”€ shared/                           # å…±æœ‰ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚ã‚Šï¼‰
â”‚   â””â”€â”€ auth/                         # èªè¨¼ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ï¼ˆClean Architectureæº–æ‹ ï¼‰
â”‚       â”œâ”€â”€ domain/                   # ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤
â”‚       â”‚   â”œâ”€â”€ entities/             # User
â”‚       â”‚   â”œâ”€â”€ repositories/         # UserRepository (interface)
â”‚       â”‚   â””â”€â”€ usecases/             # GetCurrentUser, SwitchUser
â”‚       â”œâ”€â”€ data/                     # ãƒ‡ãƒ¼ã‚¿å±¤
â”‚       â”‚   â”œâ”€â”€ datasources/          # UserLocalDataSource (ãƒ¢ãƒƒã‚¯)
â”‚       â”‚   â””â”€â”€ repositories/         # UserRepositoryImpl
â”‚       â””â”€â”€ presentation/             # ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤
â”‚           â””â”€â”€ widgets/              # UserSwitcher
â”‚
â”œâ”€â”€ features/                         # æ©Ÿèƒ½å±¤ (Feature-First)
â”‚   â”œâ”€â”€ pokemon/                      # ãƒã‚±ãƒ¢ãƒ³å›³é‘‘æ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ domain/                   # ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤
â”‚   â”‚   â”‚   â”œâ”€â”€ entities/             # Pokemon, PokemonListItem
â”‚   â”‚   â”‚   â”œâ”€â”€ repositories/         # Repositoryã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹I/F
â”‚   â”‚   â”‚   â””â”€â”€ usecases/             # GetPokemonList, GetPokemonDetail
â”‚   â”‚   â”œâ”€â”€ data/                     # ãƒ‡ãƒ¼ã‚¿å±¤
â”‚   â”‚   â”‚   â”œâ”€â”€ models/               # APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ¢ãƒ‡ãƒ« (json_serializable)
â”‚   â”‚   â”‚   â”œâ”€â”€ datasources/          # PokemonApiClient (Retrofit)
â”‚   â”‚   â”‚   â””â”€â”€ repositories/         # Repositoryå®Ÿè£…
â”‚   â”‚   â””â”€â”€ presentation/             # ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤
â”‚   â”‚       â”œâ”€â”€ view_models/          # PokemonListViewModel, PokemonDetailViewModel
â”‚   â”‚       â””â”€â”€ views/                # PokemonListView, PokemonDetailView
â”‚   â”‚
â”‚   â””â”€â”€ survey/                       # ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆæ©Ÿèƒ½
â”‚       â”œâ”€â”€ domain/                   # ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤
â”‚       â”‚   â”œâ”€â”€ entities/             # SurveyAnswer
â”‚       â”‚   â”œâ”€â”€ repositories/         # SurveyRepositoryã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”‚       â”‚   â””â”€â”€ usecases/             # SubmitSurveyUseCase
â”‚       â”œâ”€â”€ data/                     # ãƒ‡ãƒ¼ã‚¿å±¤
â”‚       â”‚   â”œâ”€â”€ models/               # SurveyAnswerModel (json_serializable)
â”‚       â”‚   â”œâ”€â”€ datasources/          # Local (SharedPreferences) + Remote (Mock)
â”‚       â”‚   â””â”€â”€ repositories/         # Repositoryå®Ÿè£…
â”‚       â””â”€â”€ presentation/             # ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤
â”‚           â”œâ”€â”€ view_models/          # SurveyViewModel
â”‚           â””â”€â”€ views/                # SurveyView (4ãƒšãƒ¼ã‚¸ã®PageView)
â”‚
â””â”€â”€ main.dart                         # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
```

---

### **å„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å½¹å‰²**

#### **`features` (æ©Ÿèƒ½å±¤)** ğŸ¨

- **å½¹å‰²**: ã‚¢ãƒ—ãƒªã®å„æ©Ÿèƒ½ã‚’é…ç½®ã—ã¾ã™ã€‚ã€Œã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€ã€Œå‹•ç”»ç·¨é›†ã€ã®ã‚ˆã†ã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¦‹ãˆã‚‹æ©Ÿèƒ½å˜ä½ã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’åˆ†å‰²ã—ã¾ã™ã€‚
- **ç‰¹å¾´**: å„æ©Ÿèƒ½ã¯åŸå‰‡ã¨ã—ã¦ä»–ã®æ©Ÿèƒ½ã‹ã‚‰ç‹¬ç«‹ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ‹…å½“æ©Ÿèƒ½ã«é›†ä¸­ã§ãã€ä¸¦è¡Œé–‹ç™ºãŒã—ã‚„ã™ããªã‚Šã¾ã™ã€‚
- **å†…éƒ¨æ§‹æˆ**: `presentation`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒã¡ã€UI ã«é–¢é€£ã™ã‚‹`screens` (View) ã¨ `view_models` (ViewModel) ã‚’é…ç½®ã—ã¾ã™ã€‚

#### **`domain` (ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤)** ğŸ§ 

- **å½¹å‰²**: **ã€Œã“ã®ã‚¢ãƒ—ãƒªãŒä½•ã‚’ã™ã‚‹ã‹ã€** ã¨ã„ã†ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚ã“ã“ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å¿ƒè‡“éƒ¨ã§ã‚ã‚Šã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚„ UI ã‹ã‚‰å®Œå…¨ã«ç‹¬ç«‹ã—ãŸç´”ç²‹ãª Dart ã‚³ãƒ¼ãƒ‰ã§è¨˜è¿°ã—ã¾ã™ã€‚
- **`entities`**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ ¸ã¨ãªã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ã€‚ï¼ˆä¾‹: `User`, `VideoTemplate`ï¼‰
- **`repositories`**: ãƒ‡ãƒ¼ã‚¿ãŒã©ã“ã‹ã‚‰æ¥ã‚‹ã‹ï¼ˆAPI or DBï¼‰ã‚’éš è”½ã™ã‚‹ãŸã‚ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆè¨­è¨ˆå›³ï¼‰ã‚’å®šç¾©ã—ã¾ã™ã€‚ï¼ˆä¾‹: `abstract class UserRepository { ... }`ï¼‰
- **`usecases`**: ã€Œã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®å›ç­”ã‚’é€ä¿¡ã™ã‚‹ã€ã¨ã„ã£ãŸã€ç‰¹å®šã®ãƒ“ã‚¸ãƒã‚¹ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿç¾ã™ã‚‹ã‚¯ãƒ©ã‚¹ã§ã™ã€‚`ViewModel`ã‹ã‚‰ã®æŒ‡ç¤ºã‚’å—ã‘ã€`Repository`ã‚’ä»‹ã—ã¦å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

#### **`data` (ãƒ‡ãƒ¼ã‚¿å±¤)** ğŸ”Œ

- **å½¹å‰²**: **ã€Œã©ã†ã‚„ã£ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ãƒ»ä¿å­˜ã™ã‚‹ã‹ã€** ã‚’å…·ä½“çš„ã«å®Ÿè£…ã—ã¾ã™ã€‚`domain`å±¤ã§å®šç¾©ã•ã‚ŒãŸ`Repository`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚‹å ´æ‰€ã§ã™ã€‚
- **`datasources`**: API ã¨ã®é€šä¿¡ã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãªã©ã€ãƒ‡ãƒ¼ã‚¿ã®æºæ³‰ã¨ãªã‚‹å‡¦ç†ã‚’è¨˜è¿°ã—ã¾ã™ã€‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ã®ã‚„ã‚Šå–ã‚Šã¯ã“ã“ãŒæ‹…å½“ã—ã¾ã™ã€‚
- **`models`**: API ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆJSONï¼‰ã‚’ Dart ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›ã™ã‚‹ãŸã‚ã®ã‚¯ãƒ©ã‚¹ãªã©ã€ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹å›ºæœ‰ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’å®šç¾©ã—ã¾ã™ã€‚
- **`repositories`**: `domain`å±¤ã®`Repository`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã—ãŸå…·è±¡ã‚¯ãƒ©ã‚¹ã‚’é…ç½®ã—ã¾ã™ã€‚

#### **`shared` (å…±æœ‰ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤)** â™»ï¸

- **å½¹å‰²**: è¤‡æ•°ã®`feature`ã§å…±æœ‰ã•ã‚Œã‚‹ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’é…ç½®ã—ã¾ã™ã€‚Clean Architecture ã® 3 å±¤æ§‹é€ ï¼ˆdomain/data/presentationï¼‰ã‚’æŒã¡ã¾ã™ã€‚
- **ç‰¹å¾´**:
  - Repository/UseCase ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ç”¨
  - è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã®çµ±åˆãŒå¯èƒ½
  - ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£ãŒé«˜ã„
- **ä¾‹**:
  - **`auth/`**: èªè¨¼ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
    - `domain/entities/User`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
    - `domain/repositories/UserRepository`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªãƒã‚¸ãƒˆãƒªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
    - `domain/usecases/`: GetCurrentUser, SwitchUser ãªã©
    - `data/datasources/`: ãƒ­ãƒ¼ã‚«ãƒ«/ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹
    - `data/repositories/`: Repository å®Ÿè£…
    - `presentation/providers/`: Riverpod ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼ˆDIï¼‰
    - `presentation/widgets/`: UserSwitcherï¼ˆå…±é€šã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆï¼‰

#### **`core` (ã‚³ã‚¢å±¤)** âš™ï¸

- **å½¹å‰²**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®æŠ€è¡“çš„åŸºç›¤ã‚’é…ç½®ã—ã¾ã™ã€‚ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’æŒãŸãªã„ã€æ¨ªæ–­çš„ãªæŠ€è¡“è¨­å®šã‚’æ‰±ã„ã¾ã™ã€‚
- **ç‰¹å¾´**:
  - ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãªã—
  - æŠ€è¡“çš„ãªè¨­å®šãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®ã¿
  - Clean Architecture ã® 3 å±¤æ§‹é€ ã¯ä¸è¦
- **ä¾‹**:
  - **`di/`**: ä¾å­˜æ€§æ³¨å…¥ï¼ˆDIï¼‰ã®ä¸­å¤®ç®¡ç†
    - `pokemon_di.dart`, `survey_di.dart`, `auth_di.dart`: å„æ©Ÿèƒ½ã® DI è¨­å®š
  - **`network/`**: Dio ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãªã©ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š
  - **`router/`**: go_router ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š
  - **`theme/`**: ã‚¢ãƒ—ãƒªã®ãƒ†ãƒ¼ãƒè¨­å®š
    - `app_theme.dart`: Light/Dark ãƒ†ãƒ¼ãƒå®šç¾©
    - `app_colors.dart`: ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆï¼ˆãƒ—ãƒ©ã‚¤ãƒãƒªã‚«ãƒ©ãƒ¼ã€ãƒã‚±ãƒ¢ãƒ³ã‚¿ã‚¤ãƒ—ã‚«ãƒ©ãƒ¼ãªã©ï¼‰
    - `app_text_styles.dart`: ãƒ†ã‚­ã‚¹ãƒˆã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©
  - **`utils/`**: ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã€æ‹¡å¼µãƒ¡ã‚½ãƒƒãƒ‰
    - `string_extensions.dart`: String å‹ã®æ‹¡å¼µãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆcapitalize, toPokemonId ãªã©ï¼‰
    - `context_extensions.dart`: BuildContext å‹ã®æ‹¡å¼µãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆscreenSize, showSnackBar ãªã©ï¼‰
    - `formatters.dart`: æ—¥ä»˜ãƒ»æ•°å€¤ãƒ»ãƒã‚±ãƒ¢ãƒ³ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
  - **`constants/`**: å®šæ•°å®šç¾©

---

### **Core vs Shared ã®ä½¿ã„åˆ†ã‘**

#### `core/` ã«é…ç½®ã™ã¹ãã‚‚ã®ï¼ˆæŠ€è¡“çš„ã‚¤ãƒ³ãƒ•ãƒ©ï¼‰

- âœ… ä¾å­˜æ€§æ³¨å…¥ï¼ˆDIï¼‰ã®è¨­å®š
- âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šï¼ˆDioï¼‰
- âœ… ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®šï¼ˆgo_routerï¼‰
- âœ… ãƒ†ãƒ¼ãƒè¨­å®š
- âœ… ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
- âœ… å®šæ•°

**åˆ¤æ–­åŸºæº–**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’æŒãŸãªã„æŠ€è¡“çš„ãªè¨­å®šã‹ï¼Ÿ

#### `shared/` ã«é…ç½®ã™ã¹ãã‚‚ã®ï¼ˆå…±æœ‰ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼‰

- âœ… èªè¨¼ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
- âœ… æ±ºæ¸ˆå‡¦ç†
- âœ… é€šçŸ¥ç®¡ç†
- âœ… è¤‡æ•° Feature ã§ä½¿ã‚ã‚Œã‚‹ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯

**åˆ¤æ–­åŸºæº–**: Repository/UseCase ãŒå¿…è¦ãªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‹ï¼Ÿ

---

### **å…±é€šæ©Ÿèƒ½ã®åˆ‡ã‚Šå‡ºã—æ–¹é‡**

- **æŠ€è¡“çš„ã‚¤ãƒ³ãƒ•ãƒ©ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãªã—ï¼‰** â†’ `core/` ã«é…ç½®
  - ä¾‹: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šï¼ˆDioï¼‰ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆgo_routerï¼‰ã€ãƒ†ãƒ¼ãƒã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã€DI è¨­å®š
  - ç‰¹å¾´: Repository/UseCase ã‚’æŒãŸãªã„ã€ç´”ç²‹ãªæŠ€è¡“è¨­å®š
- **å…±æœ‰ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯** â†’ `shared/` ã«é…ç½®
  - ä¾‹: èªè¨¼ï¼ˆ`shared/auth/`ï¼‰ã€æ±ºæ¸ˆã€é€šçŸ¥ç®¡ç†
  - ç‰¹å¾´: Clean Architecture ã® 3 å±¤æ§‹é€ ï¼ˆdomain/data/presentationï¼‰ã‚’æŒã¤
  - UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚‚å«ã‚€ï¼ˆä¾‹: `shared/auth/presentation/widgets/UserSwitcher`ï¼‰
- **Feature å›ºæœ‰ã®æ©Ÿèƒ½** â†’ å„ `features/` å†…ã«é…ç½®
  - ä¾‹: ãƒã‚±ãƒ¢ãƒ³å›³é‘‘ï¼ˆ`features/pokemon/`ï¼‰ã€ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆï¼ˆ`features/survey/`ï¼‰
  - ç‰¹å¾´: ä»–ã® Feature ã‹ã‚‰ç‹¬ç«‹ã€Clean Architecture ã® 3 å±¤æ§‹é€ ã‚’æŒã¤

---

### **Clean Architecture ã¨ã®å¯¾å¿œé–¢ä¿‚**

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€Robert C. Martin (Uncle Bob) ã® Clean Architecture ã®åŸå‰‡ã«å¾“ã„ã¤ã¤ã€Flutter/Dart ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®æ…£ç¿’ã«åˆã‚ã›ãŸå‘½åã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚

> **âš ï¸ é‡è¦**: `data` ã¨ã„ã†å±¤ã¯ Clean Architecture ã®åŸå…¸ã«ã¯å­˜åœ¨ã—ã¾ã›ã‚“ã€‚åŸå…¸ã§ã¯ "Interface Adapters" å±¤ã®ä¸€éƒ¨ã§ã™ã€‚Flutter/Dart ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ã¯ã€ã‚ã‹ã‚Šã‚„ã™ã•ã¨å®Ÿç”¨æ€§ã®ãŸã‚ã€ãƒ‡ãƒ¼ã‚¿é–¢é€£ã®è²¬å‹™ã‚’ `data` å±¤ã¨ã—ã¦ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚

#### å±¤ã®å¯¾å¿œè¡¨

| æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ                     | Clean Architecture (åŸå…¸)                         | èª¬æ˜                                                                                                   |
| ---------------------------------- | ------------------------------------------------- | ------------------------------------------------------------------------------------------------------ |
| **`domain/entities/`**             | **Entities** (Enterprise Business Rules)          | ãƒ“ã‚¸ãƒã‚¹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€‚ã‚¢ãƒ—ãƒªã®æ ¸ã¨ãªã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€                                                        |
| **`domain/usecases/`**             | **Use Cases** (Application Business Rules)        | ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã€‚ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å›ºæœ‰ã®ãƒ«ãƒ¼ãƒ«                                                         |
| **`domain/repositories/`**         | **Repository Interface** (Gateway)                | ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã®æŠ½è±¡åŒ–ã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©                                                           |
| **`presentation/views/`**          | **UI** (Frameworks & Drivers)                     | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹                                                                               |
| **`core/`**                        | **Frameworks & Drivers**                          | æŠ€è¡“çš„åŸºç›¤ï¼ˆDIã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã€ãƒ«ãƒ¼ã‚¿ãƒ¼ç­‰ï¼‰                                                             |
| **`data/repositories/`** âš ï¸        | **Repository Implementation** (Interface Adapter) | Repository ã®å…·ä½“çš„ãªå®Ÿè£…<br>âš ï¸ åŸå…¸ã§ã¯ "Gateway Implementation"                                      |
| **`data/datasources/`** âš ï¸         | **External Interface** (Interface Adapter)        | å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ï¼ˆAPIã€DBï¼‰ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹<br>âš ï¸ åŸå…¸ã§ã¯ "Controller/Gateway" ã®ä¸€éƒ¨                     |
| **`data/models/`** âš ï¸              | **DTOs** (Data Transfer Objects)                  | ãƒ‡ãƒ¼ã‚¿è»¢é€ç”¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚JSON â†” ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå¤‰æ›<br>âš ï¸ åŸå…¸ã§ã¯æ˜ç¤ºçš„ãªå±¤ã§ã¯ãªã„                     |
| **`presentation/view_models/`** âš ï¸ | **Presenters** (Interface Adapter)                | ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã€‚UI ã¨ UseCase ã®æ©‹æ¸¡ã—<br>âš ï¸ åŸå…¸ã§ã¯ "Presenter" ã ãŒ MVVM ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¡ç”¨ |
